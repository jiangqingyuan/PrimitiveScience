# 结构化思维

## 指令、语句、表达式语句

在机器指令层面上，执行序列的形成由 CPU 硬件直接完成，本质上都是由pc计数器控制的。
1. pc计数器是一个开关，可以让内存的某个位置到指令寄存器的通路打开。
内存中的指令送至指令寄存器后，pc自动更新。
2.然后cpu在指令寄存器的作用下执行指令。
这两步在时序寄存器的作用下交替进行。这两个过程是一个循环，当然需要做更多的工作。

谁控制谁是说不清的。这是一个循环，是一个循环的过程。

在人的眼中，指令的执行是有流程的，一条一条的指令一个一个地被执行。最基本的执行流程是顺序执行。另一种流程是在跳转指令的作用下导致的跳转，跳转指令的执行导致pc寄存器变为指定的值，使得进程转到某指定位置继续下去,从而改变了执行流程。

一次基本操作能完成的工作很有限，要实现一个复杂的计算过程，往往需要做许多基本操作，这些操作必须按照某种规定顺序逐个进行，形成一个特定操作执行序列，逐步完成整个工作。

通过这两种方式的结合可以形成复杂的程序流程。如果将指令的流程想象成在指令序列里缠绕的线路轨迹，早期指令执行流程可能形成一团乱线，使人很难把握。
随着程序设计成为越来越多的人的职业，成为一个重要研究对象，人们对程序实践和对编程过程规律性做了许多研究，逐渐认识到，随意的流程控制方式不是一件好事，这种随意性带来许多麻烦，使得程序设计不能变成一种具有科学性的技术工作。
分析了各种情况后，人们提出了程序执行的三种基本流程模式，即顺序执行、选择执行和重复执行模式。

在顺序执行中，一个操作完成后接着执行跟随其后的下一操作；
选择执行中按照所遇情况，从若干可能做的事情中选出一种去做；重复执行过程则是在某些条件成立的情况下反复做某些事情。
图 3.4 描述了这三种基本流程模式的一些典型情况。
图 3.4 (a) 是顺序执行。
图 3.4 (b) 中画的是选择模式的一种，其中在多种可能性里选出一种执行。
图 3.4 (c) 是一种重复执行结构，其中条件判断在先而动作在后。还有另外的重复执行模式。

应特别指出，上面几种模式有一个共同点：**它们都只有一个开始点和一个结束点**。
要清楚地知道循环何时开始，要让初始条件在循环开始之前存在。
要清楚地知道循环何时结束，结束时要做什么。

这一特点使一个流程模式的整体可以当作一个抽象操作看待，可以把它嵌入到其他不同的（或相同的）流程模式中，构成更复杂的计算流程。这样的流程称为结构化的流程模式。

通过结构化流程模式形成的复杂流程具有层次性，具有很好的分解，其意义也比较容易
把握。人们已严格证明，上面画出的三种模式对于写任何程序都足够了。也就是说，如果能
用其他方式写出一个程序，那么通过这三种模式的嵌套构造也能实现它。

为描述各种操作的执行流程，语言里必须提供相应的流程描述机制，这种机制一般称为控制结构，所谓的结构就是人认为的关系，控制结构就是人、计算机、指令之间的关系，什么是控制，谁控制谁？
以你的视角看就是你在控制基本操作的执行。

语句是程序的主要构建**块**。一条语句对应了计算机的完整基本的指令。

C 语言提供了一组控制机制，包括直接针对上面几种模式的控制结构，这些控制结构也被称作结构化的控制结构。在 C 语言里，由一个完整控制结构形成的程序片段也被当作一个语句看待，可以出现在任何可以写语句的地方。这一规定使人可以嵌套地使用这些结构，写出各种复杂的程序。正因为此，控制结构也常常被人们称作控制语句。

C 语言里最基本的语句就是表达式语句，它们完成一些基本操作。
表达式语句，它们都是通过在一个表达式后面加一个表示语句结束的分号构成的。

goto 语句又称转移语句或转跳语句，是计算机指令直接支持的控制动作，也是程序语言里历史最悠久的控制语句。随着人们对程性质的认识发展，随着程序语言里其他控制结构和语句的出现，今天 goto 语句在程序语言里已经变得越来越不重要了。但是由于历史原因，许多语言仍然提供了 goto 语句，C 语言就是这样。
goto 语句需要与程序里的标号协同工作，其作用是实现在一个函数体内部的任意控制转移。标号可以写在任何语句前面，其形式是：
标号名:
标号的形式就是一个标识符后跟一个冒号，标号名可以是任意的标识符。一个标号表示了程序中的一个位置，作为 goto 语句转移的目标。goto 语句的形式是：
goto 标号名; 
当程序执行到一个 goto 语句时，执行控制将立即转移到程序中相应标号所在的位置，从那里继续执行下去。
goto 语句的实现基础是 CPU 的分支转移指令。仔细想想，不难发现 break、continue 实际上语句都是受限制的转移语句，它们实现的是方式固定、意义更清晰的控制转移。
最早的高级程序语言里就有 goto 语句，那时它几乎是语言中唯一的控制语句。在早期程序实践中，人们无节制地随意使用 goto，写出了许多很“巧妙”的程序，其中的一些程序不但十分费解，有的还是看起来正确，其实带有隐藏很深、难以发现的错误。1968 年，荷兰计算机科学家 Dijkstra 写了一篇文章：“goto 是有害的”，引起计算机界的强烈反响，导致了一场持续大约六年的大辩论。这场辩论的结果是计算机领域的“结构程序设计”革命：新设计的各种语言都引进了几种标准的控制结构，计算机教育和实践中大力提倡结构化程序设计，尽量使用结构化的控制结构和函数（过程）抽象机制来写程序。对于 goto 语句的共同认识是：应当不用或尽量少用。实际上，使用 goto 的大部分情况是在构造条件执行或者循环。
典型的情况例如：
1）向前转跳 2）向后转跳
 .... 
label: .... 
 .... 
 ... goto label; 
 .... 
 .... 
 ... goto label; 
 .... 
label: .... 
 .... 
第 1 种形式在许多情况下构成了循环；第 2 种形式在许多情况下是条件执行。用循环控制结构或条件控制结构改写程序，可以使得到的程序更清晰易读，也更不容易有错。
有些读者过去接触过计算机，学过程序设计。其中有些人可能养成了随意使用goto 语句的习惯。今天应当认识到，无节制地使用 goto 语句是一种不良程序设计习惯，基本上说明了一个人对要做的程序的结构没有清楚的认识。有人说，一个人写程序的水平与其在程序中使用 goto 语句的数量成反比。这话虽然未必准确，但也有一定道理。无论如何，含有大量 goto 的程序既难写正确，又难理解。我们绝不要养成这种习惯。本书所有的例子中都没有使用 goto 语句，不但解决了所提出的问题，结果程序也清楚简单，这至少也能说明一点问题。实际上，程序中不合理的 goto 表示写程序的人对问题的分析不清楚，没有做好程序流程分解，函数抽象等等，写出的是不成熟的程序。

无意：我观察我能做这几件事。
[[顺序结构]]
[[分支结构]]选择
[[循环结构]]迭代

本意：我看待信息的关系
确认项，确认命题。
某种信息关联运动。信息跳转运动。
不是独立的注意。而是有意地描述确认关联。

需要认识认识。
意识的某种信息关联运动。
意识的某种注意跳转运动。
意识的某种抽象运动。
我怎么知道他是循环还是顺序。只不过我做事的方法罢了。

无所谓，我怎么解释都行。从事实到结论不是单射。
解释往往超出事实。客观只是猜想的一部分。

· 如果我们所有的代码都简单地按顺序执行，那么我们的程序将总是做同样的事情，不管我们为它们提供了什么数据。

· 我们必须能够控制通过程序的路径，使代码的某些部分在指定的时间执行，其他部分在其他时间执行，这取决于数据提供的值。例如，只有当外面很冷的时候，你才穿上暖和的衣服，而不是总是这样。同样的事情也适用于我们的代码。当事情以某种方式发展时，我们希望某些事情发生。

· 在某种程度上，我们可以说，通过这种方式，我们将在代码中引入某种智能，或者至少是一些决策能力。
如果事情是这样，就这样做，如果不是这样，就那样做。
如何映射过去的？

在本章中，您将学习以下主题：
控制程序的执行路径
在if语句的帮助下进行决策
使用switch语句从多个选项中选择一个
使用for循环重复执行代码
使用while和do while遍历代码，直到条件为false
遍历一个数据序列，每次一个项目，对每个项目使用
在这一章中，我们将学习一些实际的编程。在我们将在这里介绍的主题中，我们将能够控制程序的执行路径。让我们首先探讨一下这意味着什么。

强大的关联能力，演变出预测能力，是创造的必要能力。

